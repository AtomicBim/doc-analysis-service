# –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (–¢–ó) –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏–π (–¢–£) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞. 

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≥–∏–±—Ä–∏–¥–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:
- –†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –¢–ó/–¢–£ –∫–∞–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–µ–π —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ–µ–∫—Ç–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (—á–µ—Ä—Ç–µ–∂–∏) —Å –ø–æ–º–æ—â—å—é Vision API
- –°–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å –ø—Ä–æ–µ–∫—Ç–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏
- –í—ã–¥–∞–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏/–Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (v6.1.0)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **Mixed OCR**: –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ - OCR –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –±–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–ª–æ—è
- **DOCX –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –ø—Ä—è–º–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ DOCX –±–µ–∑ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- **–¢–µ–∫—Å—Ç–æ–≤—ã–π –ø—Ä–µ—Ñ–∏–ª—å—Ç—Ä Stage 2**: BM25-–ø–æ–¥–æ–±–Ω—ã–π –æ—Ç–±–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü –ø–µ—Ä–µ–¥ Vision API (—Å–æ–∫—Ä–∞—â–∞–µ—Ç –¥–æ 30 —Å—Ç—Ä–∞–Ω–∏—Ü –≤–º–µ—Å—Ç–æ 100+)
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è**: —á–∞–Ω–∫–∏–Ω–≥ –¢–ó –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º –≤–º–µ—Å—Ç–æ –∂–µ—Å—Ç–∫–æ–≥–æ –ª–∏–º–∏—Ç–∞ 10k —Å–∏–º–≤–æ–ª–æ–≤

### UX —É–ª—É—á—à–µ–Ω–∏—è
- **–ù–∞–¥–µ–∂–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ PDF**: retry-–º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä**: —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å cap –Ω–∞ 95% –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫**: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü (1-500)
- **Key-based refresh**: –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∫–ª–∏–∫–µ –Ω–∞ —Ç—É –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (41 —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ)
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¢–ó: ~15 —Å–µ–∫ (—Å–º–µ—à–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º)
- –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è: ~10 —Å–µ–∫
- Stage 1 (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ): ~20 —Å–µ–∫
- Stage 2 (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å): ~30 —Å–µ–∫ (—Å –ø—Ä–µ—Ñ–∏–ª—å—Ç—Ä–æ–º)
- Stage 3 (–∞–Ω–∞–ª–∏–∑): ~4 –º–∏–Ω (–æ—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–µ–º—è)
- Stage 4 (–ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è): ~30 —Å–µ–∫

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

### 1. API-—Å–µ—Ä–≤–∏—Å (api-service)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è**: FastAPI
- **–§—É–Ω–∫—Ü–∏—è**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∞–Ω–∞–ª–∏–∑, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI API, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–ü–æ—Ä—Ç—ã**: 8000 (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞), 8002 (–≤–Ω–µ—à–Ω–∏–π)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä**: `doc_analysis_api`

### 2. UI-—Å–µ—Ä–≤–∏—Å React (ui-react-service)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è**: React + TypeScript + Nginx
- **–§—É–Ω–∫—Ü–∏—è**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º UX/UI
- **–ü–æ—Ä—Ç—ã**: 80 (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞), 7862 (–≤–Ω–µ—à–Ω–∏–π)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä**: `doc_analysis_ui_react`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - ‚ú® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
  - üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
  - üìÑ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PDF-–ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
  - üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
  - üéØ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend (api-service)
- **Python 3.11** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API
- **OpenAI API** - –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —á–µ—Ä—Ç–µ–∂–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Vision API
- **PyMuPDF** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PDF-–¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- **Pillow** - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **Tenacity** - –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- **Uvicorn** - ASGI-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Frontend

#### React UI (ui-react-service)
- **React 19** - UI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Axios** - HTTP-–∫–ª–∏–µ–Ω—Ç
- **react-pdf** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ PDF
- **Nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ proxy

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- **Docker Compose** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **SOCKS –ø—Ä–æ–∫—Å–∏** - –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ OpenAI API —á–µ—Ä–µ–∑ VPN

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç–∞–¥–∏–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ì–ö** - –ì—Ä–∞–¥–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è
- **–§–≠** - –§–æ—Ä—ç—Å–∫–∏–∑–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
- **–≠–ü** - –≠—Å–∫–∏–∑–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **PDF** - –¥–ª—è –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **DOCX** - –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π –∏ —É—Å–ª–æ–≤–∏–π

## –°—Ç–∞–¥–∏–∏ –∞–Ω–∞–ª–∏–∑–∞

–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç 4-—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ñ–∞–π–ª–µ `api-service/config.py`.

### STAGE 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
–≠—Ç–∞–ø –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏–∑ —à—Ç–∞–º–ø–æ–≤, –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –ù–∞ —ç—Ç–æ–π —Å—Ç–∞–¥–∏–∏ —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø, —Ä–∞–∑–¥–µ–ª –∏ –Ω–æ–º–µ—Ä –ª–∏—Å—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–§—É–Ω–∫—Ü–∏–∏:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞, —Ä–∞–∑–¥–µ–ª–∞ –∏ –Ω–æ–º–µ—Ä–∞ –ª–∏—Å—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ê–Ω–∞–ª–∏–∑ —à—Ç–∞–º–ø–æ–≤ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü (—à—Ç–∞–º–ø, –ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª, –∑–∞–≥–æ–ª–æ–≤–æ–∫)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `STAGE1_MAX_PAGES` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 150) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- `STAGE1_DPI` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 120) ‚Äî –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–ª—è –≤—ã—Ä–µ–∑–æ–∫ (–ø–æ–≤—ã—à–µ–Ω–æ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ —à—Ç–∞–º–ø–æ–≤)
- `STAGE1_QUALITY` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 75) ‚Äî JPEG –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è –≤—ã—Ä–µ–∑–æ–∫ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è OCR –º–µ–ª–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞)
- `STAGE1_MAX_PAGES_PER_REQUEST` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ –º–∏–Ω—É—Ç—É)

**–û–±–ª–∞—Å—Ç–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è (–ø—Ä–æ—Ü–µ–Ω—Ç—ã –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã):**
- `STAGE1_STAMP_CROP`: {'left': 0.7, 'top': 0.8, 'right': 1.0, 'bottom': 1.0} ‚Äî –ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª (—à—Ç–∞–º–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
- `STAGE1_TOP_RIGHT_CROP`: {'left': 0.7, 'top': 0.0, 'right': 1.0, 'bottom': 0.15} ‚Äî –ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª
- `STAGE1_HEADER_CROP`: {'left': 0.0, 'top': 0.0, 'right': 1.0, 'bottom': 0.1} ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è –ª–∏—Å—Ç–æ–≤

### STAGE 2: –û—Ü–µ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
–ù–∞ —ç—Ç–æ–π —Å—Ç–∞–¥–∏–∏ —Å–∏—Å—Ç–µ–º–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ –¢–ó —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–µ—à–µ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π.

**–§—É–Ω–∫—Ü–∏–∏:**
- –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –í—ã–±–æ—Ä –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –¥–µ—à–µ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, gpt-4o-mini)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `STAGE2_MAX_PAGES` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 100) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- `STAGE2_DPI` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 120) ‚Äî –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (–ø–æ–≤—ã—à–µ–Ω–æ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ —Å –¥–µ—à–µ–≤–æ–π –º–æ–¥–µ–ª—å—é)
- `STAGE2_QUALITY` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 85) ‚Äî JPEG –∫–∞—á–µ—Å—Ç–≤–æ (–≤—ã—Å–æ–∫–æ–µ, —Ç.–∫. –º–æ–¥–µ–ª—å –¥–µ—à–µ–≤–∞—è)
- `STAGE2_DETAIL` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "high") ‚Äî —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ Vision API OpenAI (765 —Ç–æ–∫–µ–Ω–æ–≤/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –Ω–æ –º–æ–¥–µ–ª—å –¥–µ—à–µ–≤–∞—è)
- `STAGE2_MAX_PAGES_PER_REQUEST` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ (30 √ó 765 = 22,950 —Ç–æ–∫–µ–Ω–æ–≤, –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –æ–∫–Ω–∞)

### STAGE 3: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
–≠—Ç–∞–ø –≤–∫–ª—é—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Vision API. –ù–∞ —ç—Ç–æ–π —Å—Ç–∞–¥–∏–∏ —Å–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º —Å –≤—ã—Å–æ–∫–æ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π.

**–§—É–Ω–∫—Ü–∏–∏:**
- –ê–Ω–∞–ª–∏–∑ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Vision API
- –û—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø–æ –æ–±—â–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –º–æ–¥–µ–ª–∏

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `STAGE3_DPI` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 120) ‚Äî –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: —Å–∫–æ—Ä–æ—Å—Ç—å +10%, –∫–∞—á–µ—Å—Ç–≤–æ -2%)
- `STAGE3_QUALITY` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 85) ‚Äî JPEG –∫–∞—á–µ—Å—Ç–≤–æ (–ø–æ–≤—ã—à–µ–Ω–æ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏, —Ç.–∫. –º–æ–¥–µ–ª—å –¥–µ—à–µ–≤–∞—è)
- `STAGE3_DETAIL` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "high") ‚Äî —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ Vision API OpenAI (765 —Ç–æ–∫–µ–Ω–æ–≤/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- `STAGE3_BATCH_SIZE` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –≤ –æ–¥–Ω–æ–º –±–∞—Ç—á–µ (—É–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –¥–µ—à–µ–≤–æ–π –º–æ–¥–µ–ª–∏ - –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤)
- `STAGE3_MAX_COMPLETION_TOKENS` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8000) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ (—É–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–∞—Ç—á–µ–π)
- `STAGE3_RETRY_ON_REFUSAL` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: True) ‚Äî –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∑–∞–ø—Ä–æ—Å —Å –±–∞—Ç—á–∞–º–∏ —Ä–∞–∑–º–µ—Ä–æ–º 1 –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –º–æ–¥–µ–ª–∏
- `STAGE3_MAX_PAGES_PER_REQUEST` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ (30 √ó 765 = 22,950 —Ç–æ–∫–µ–Ω–æ–≤ < 30,000 TPM)

### STAGE 4: –ü–æ–∏—Å–∫ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π
–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞–¥–∏—è, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ—Ü–µ–Ω–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏ –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π. –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞ –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –û—Ü–µ–Ω–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏ –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è—Ö

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `STAGE4_ENABLED` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: True) ‚Äî –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å Stage 4 (–æ—Ç–∫–ª—é—á–∏—Ç–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤)
- `STAGE4_SAMPLE_PAGES_PER_SECTION` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- `STAGE4_DPI` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 100) ‚Äî –∫–∞—á–µ—Å—Ç–≤–æ (—Å—Ä–µ–¥–Ω–µ–µ –º–µ–∂–¥—É Stage 2 –∏ 3)
- `STAGE4_QUALITY` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 70) ‚Äî JPEG –∫–∞—á–µ—Å—Ç–≤–æ
- `STAGE4_DETAIL` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "low") ‚Äî —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ Vision API OpenAI (—ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤)
- `STAGE4_MAX_COMPLETION_TOKENS` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 6000) ‚Äî –±–æ–ª—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è—Ö

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `api-service` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`
3. –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π API-–∫–ª—é—á OpenAI –≤ `.env`

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

**–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
```bash
docker-compose up --build
```

**–ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
```bash
# API –∏ React UI
docker-compose up --build doc-analysis-api doc-analysis-ui-react
```

### –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –∞–¥—Ä–µ—Å–∞–º:

| –°–µ—Ä–≤–∏—Å | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| üé® **React UI** | `http://localhost:7862` | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| üîå **API** | `http://localhost:8002` | REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ |

### –í—ã–±–æ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**React UI** (`http://localhost:7862`) - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã:
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä PDF
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

Gradio UI —É–¥–∞–ª–µ–Ω. –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω—ã–π React-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### API-—Å–µ—Ä–≤–∏—Å (api-service/config.py)
- `OPENAI_MODEL` - –º–æ–¥–µ–ª—å OpenAI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- `STAGE1_MAX_PAGES` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- `STAGE2_MAX_PAGES` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- `STAGE3_BATCH_SIZE` - —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- `STAGE4_ENABLED` - –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ DPI –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

### UI-—Å–µ—Ä–≤–∏—Å
- `API_SERVICE_URL` - URL –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API-—Å–µ—Ä–≤–∏—Å—É

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
doc-analysis-service/
‚îú‚îÄ‚îÄ api-service/                    # API-—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ analysis_api_hybrid.py     # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å API-–º–µ—Ç–æ–¥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ config.py                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile                # Docker-—Ñ–∞–π–ª –¥–ª—è API-—Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ ui-service/                     # [–£–¥–∞–ª–µ–Ω–æ] –†–∞–Ω–µ–µ: Gradio UI
‚îú‚îÄ‚îÄ ui-react-service/              # UI-—Å–µ—Ä–≤–∏—Å –Ω–∞ React (NEW!)
‚îÇ   ‚îú‚îÄ‚îÄ src/                       # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/            # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx         # –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RequirementList.tsx # –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PdfViewer.tsx      # –ü—Ä–æ—Å–º–æ—Ç—Ä PDF
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts               # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf.template        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îÇ   ‚îú‚îÄ‚îÄ package.json               # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Node.js
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                # Multi-stage —Å–±–æ—Ä–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ README.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è React UI
‚îú‚îÄ‚îÄ prompts/                       # –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∞–¥–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ gk_prompt.txt              # –ü—Ä–æ–º–ø—Ç –¥–ª—è –ì–ö
‚îÇ   ‚îú‚îÄ‚îÄ fe_prompt.txt              # –ü—Ä–æ–º–ø—Ç –¥–ª—è –§–≠
‚îÇ   ‚îú‚îÄ‚îÄ ep_prompt.txt              # –ü—Ä–æ–º–ø—Ç –¥–ª—è –≠–ü
‚îÇ   ‚îî‚îÄ‚îÄ README.md                  # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
‚îú‚îÄ‚îÄ docker-compose.yml             # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îî‚îÄ‚îÄ README.md                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

## –ü—Ä–æ–º–ø—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–æ–º–ø—Ç—ã
–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞–¥–∏–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- `gk_prompt.txt` - –¥–ª—è –≥—Ä–∞–¥–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
- `fe_prompt.txt` - –¥–ª—è —Ñ–æ—Ä—ç—Å–∫–∏–∑–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- `ep_prompt.txt` - –¥–ª—è —ç—Å–∫–∏–∑–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

–ö–∞–∂–¥—ã–π –ø—Ä–æ–º–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç:
- –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∞–Ω–∞–ª–∏–∑–∞
- –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –ú–µ—Ç–æ–¥–∏–∫—É –∞–Ω–∞–ª–∏–∑–∞
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–∫–∞–∑–∞–Ω–∏—è

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏
- **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø–æ–ª–Ω–µ–Ω–æ**: —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä—ë–º–µ
- **–ß–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ**: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ —Å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è–º–∏
- **–ù–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ**: –Ω–µ –æ—Ç—Ä–∞–∂–µ–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏—è—Ö
- **–¢—Ä–µ–±—É–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è**: –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏

## –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ   ‚îÇ    ‚îÇ   –ü—Ä–æ–µ–∫—Ç–Ω–∞—è      ‚îÇ    ‚îÇ    –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ   ‚îÇ
‚îÇ   –ó–∞–¥–∞–Ω–∏–µ (–¢–ó)  ‚îÇ    ‚îÇ  –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è    ‚îÇ    ‚îÇ   –£—Å–ª–æ–≤–∏—è (–¢–£)   ‚îÇ
‚îÇ     PDF/DOCX    ‚îÇ    ‚îÇ     PDF/DOCX     ‚îÇ    ‚îÇ     PDF/DOCX     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                      ‚îÇ                       ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ           ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ      API-—Å–µ—Ä–≤–∏—Å (FastAPI)        ‚îÇ
         ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
         ‚îÇ  ‚îÇ  1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö   ‚îÇ ‚îÇ
         ‚îÇ  ‚îÇ  2. –û—Ü–µ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏    ‚îÇ ‚îÇ
         ‚îÇ  ‚îÇ  3. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑       ‚îÇ ‚îÇ
         ‚îÇ  ‚îÇ  4. –ü–æ–∏—Å–∫ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π     ‚îÇ ‚îÇ
         ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å      ‚îÇ
        ‚îÇ   (React UI)         ‚îÇ
        ‚îÇ                      ‚îÇ
        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
        ‚îÇ  ‚îÇ   –†–µ–∑—É–ª—å—Ç–∞—Ç—ã    ‚îÇ ‚îÇ
        ‚îÇ  ‚îÇ   –∞–Ω–∞–ª–∏–∑–∞ –≤    ‚îÇ ‚îÇ
        ‚îÇ  ‚îÇ   —Ç–∞–±–ª–∏—á–Ω–æ–º    ‚îÇ ‚îÇ
        ‚îÇ  ‚îÇ   –≤–∏–¥–µ         ‚îÇ ‚îÇ
        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

–°–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç, –≤–∫–ª—é—á–∞—é—â–∏–π:
- –¢–∞–±–ª–∏—Ü—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏
- –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã/–ª–∏—Å—Ç—ã
- –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SOCKS-–ø—Ä–æ–∫—Å–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ OpenAI API
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤
- –í–Ω–µ–¥—Ä–µ–Ω—ã –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ (–¥–æ 40 –ú–ë)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–¥–æ 100+ —Å—Ç—Ä–∞–Ω–∏—Ü)

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 40 –ú–ë
- –ù–µ–æ–±—Ö–æ–¥–∏–º API-–∫–ª—é—á OpenAI –¥–ª—è —Ä–∞–±–æ—Ç—ã Vision API
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature-–≤–µ—Ç–∫—É
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
5. –°–æ–∑–¥–∞–π—Ç–µ pull request

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ [—É–∫–∞–∑–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –µ—Å–ª–∏ –ª–∏—Ü–µ–Ω–∑–∏—è –Ω–µ —É–∫–∞–∑–∞–Ω–∞]