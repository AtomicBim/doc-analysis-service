# –°–µ—Ä–≤–∏—Å –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## –û–ø–∏—Å–∞–Ω–∏–µ

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (–¢–ó) –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏–π (–¢–£) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Google Gemini API**.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **–¥–≤—É—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–µ—Ç—å                             ‚îÇ
‚îÇ                                                                    ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                           ‚îÇ
‚îÇ  ‚îÇ   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å     ‚îÇ                                           ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                           ‚îÇ
‚îÇ            ‚îÇ HTTP                                                 ‚îÇ
‚îÇ            ‚ñº                                                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          HTTP           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   Gradio UI        ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ  API Service ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  (–ë–ï–ó –ø—Ä–æ–∫—Å–∏)      ‚îÇ                        ‚îÇ  (–° –ø—Ä–æ–∫—Å–∏)  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  Port: 7861        ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ  Port: 8000  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       JSON              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                         ‚îÇ          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                          ‚îÇ
                                            SOCKS5 Proxy  ‚îÇ VPN
                                            172.17.0.1    ‚îÇ
                                            :10808        ‚îÇ
                                                          ‚ñº
                                                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                                ‚îÇ  Google Gemini  ‚îÇ
                                                ‚îÇ      API        ‚îÇ
                                                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°–µ—Ä–≤–∏—Å 1: Gradio UI (`ui-service/`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°–µ—Ç—å**: –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–µ—Ç—å (–ë–ï–ó –ø—Ä–æ–∫—Å–∏)
- **–ü–æ—Ä—Ç**: 7861
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ (docx, pdf)
  - –í—ã–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∞–Ω–∞–ª–∏–∑–∞ (—Å—Ç–∞–¥–∏—è, —Ç–∏–ø —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Markdown
  - –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ API-—Å–µ—Ä–≤–∏—Å—É –ø–æ HTTP

### –°–µ—Ä–≤–∏—Å 2: API Service (`api-service/`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ Google Gemini API
- **–°–µ—Ç—å**: –ß–µ—Ä–µ–∑ VPN/SOCKS5 –ø—Ä–æ–∫—Å–∏
- **–ü–æ—Ä—Ç**: 8000
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ü—Ä–∏–µ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç UI
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Gemini
  - –í—ã–∑–æ–≤ Google Gemini API (—á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏)
  - –ü–∞—Ä—Å–∏–Ω–≥ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –í–æ–∑–≤—Ä–∞—Ç JSON —Å –∞–Ω–∞–ª–∏–∑–æ–º

## üîê –°–µ—Ç–µ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—Ä–æ–∫—Å–∏ | IP/–î–æ–º–µ–Ω | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|--------|----------|------------|
| **Gradio UI** | ‚ùå –ù–ï–¢ | `0.0.0.0:7861` | –î–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å–µ—Ç–∏ |
| **API Service** | ‚úÖ –î–ê | `172.17.0.1:10808` | SOCKS5 –¥–ª—è Google Gemini API |
| **Gemini API** | - | —á–µ—Ä–µ–∑ VPN | –í–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å Google |

**‚ùó –í–ê–ñ–ù–û:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ SOCKS5 –ø—Ä–æ–∫—Å–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º!

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–æ–µ–∫—Ç –±—ã–ª –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é. –§–∞–π–ª—ã `doc_analysis_app.py`, `Dockerfile` –∏ `requirements.txt` –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏ –∏ **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è** –≤ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `docker-compose.yml`. –û–Ω–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏.

```
doc-analysis-service/
‚îú‚îÄ‚îÄ api-service/                  # ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–π API-—Å–µ—Ä–≤–∏—Å (FastAPI + Gemini)
‚îÇ   ‚îú‚îÄ‚îÄ analysis_api.py
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ .env.example
‚îÇ
‚îú‚îÄ‚îÄ ui-service/                   # ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–π UI-—Å–µ—Ä–≤–∏—Å (Gradio)
‚îÇ   ‚îú‚îÄ‚îÄ gradio_ui.py
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml           # ‚úÖ –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ doc_analysis_app.py          # ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–æ–Ω–æ–ª–∏—Ç (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ Dockerfile                   # ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–π Dockerfile –¥–ª—è –º–æ–Ω–æ–ª–∏—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt             # ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –º–æ–Ω–æ–ª–∏—Ç–∞
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `api-service/`:
   ```bash
   cp api-service/.env.example api-service/.env
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ `api-service/.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à Gemini API –∫–ª—é—á:
   ```env
   GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å
   GEMINI_MODEL=gemini-1.5-flash
   TEMPERATURE=0.1
   ```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ SOCKS –ø—Ä–æ–∫—Å–∏

–û—Ç–∫—Ä–æ–π—Ç–µ `docker-compose.yml` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ IP –ø—Ä–æ–∫—Å–∏:
```yaml
environment:
  - HTTPS_PROXY=socks5://172.17.0.1:10808  # ‚Üê –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å
  - HTTP_PROXY=socks5://172.17.0.1:10808
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

```bash
cd doc-analysis-service
docker-compose up -d
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –õ–æ–≥–∏ API-—Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f doc-analysis-api

# –õ–æ–≥–∏ UI-—Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f doc-analysis-ui
```

### –®–∞–≥ 5: –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- **Gradio UI:** http://localhost:7861
- **API Docs:** http://localhost:8000/docs

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–¢–ó)** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- **–ü—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è (–¢–£)** - –¥–ª—è —Å—Ç–∞–¥–∏–π –†–î –∏ –ü–î

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:** `.docx`, `.pdf`

### 2. –í—ã–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–°—Ç–∞–¥–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
- **–ì–ö** - –ì—Ä–∞–¥–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è
- **–§–≠** - –§–æ—Ä—ç—Å–∫–∏–∑–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
- **–≠–ü** - –≠—Å–∫–∏–∑–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
- **–ü–î** - –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¢–£)
- **–†–î** - –†–∞–±–æ—á–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¢–£)

**–¢–∏–ø—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:**
- **–¢–ó** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- **–¢–£_–†–î** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –†–î
- **–¢–£_–ü–î** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –ü–î
- **–¢–£_–§–≠** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –§–≠ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ)
- **–¢–£_–≠–ü** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –≠–ü (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ)

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

**–§–æ—Ä–º–∞—Ç:** —Ç–æ–ª—å–∫–æ `.docx` –∏ `.pdf`

**–ò–º—è —Ñ–∞–π–ª–∞** (–¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω):

| –¢–∏–ø —Ñ–∞–π–ª–∞ | –ü—Ä–∏–º–µ—Ä—ã –∏–º—ë–Ω |
|-----------|--------------|
| –¢–ó | `tz_project.docx`, `—Ç–∑_`, `—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ_–∑–∞–¥–∞–Ω–∏–µ` |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | `documentation_fe.pdf`, `docs_`, `–ø—Ä–æ–µ–∫—Ç–Ω–∞—è_–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è` |
| –¢–£ | `requirements_tu.docx`, `_tu.pdf`, `—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ_—É—Å–ª–æ–≤–∏—è` |

### 4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ **Markdown-—Ç–∞–±–ª–∏—Ü—ã**:

| ‚Ññ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∏–∑ –¢–ó | –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è | –î–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å (%) | –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è | –°—Å—ã–ª–∫–∞ | –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
|---|------------------|-------------------|-------------------|------------------|--------|----------------|--------------|

**–°—Ç–∞—Ç—É—Å—ã:**
- ‚úÖ **–ò—Å–ø–æ–ª–Ω–µ–Ω–æ** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ** - –µ—Å—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
- ‚ùå **–ù–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚ùì **–¢—Ä–µ–±—É–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è** - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### API-—Å–µ—Ä–≤–∏—Å (api-service/.env)

```env
# Google Gemini API –∫–ª—é—á (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
GEMINI_API_KEY=your_key_here

# –ú–æ–¥–µ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
GEMINI_MODEL=gemini-1.5-flash

# Temperature (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TEMPERATURE=0.1
```

### Docker Compose

**–î–ª—è API-—Å–µ—Ä–≤–∏—Å–∞ (—Å –ø—Ä–æ–∫—Å–∏):**
```yaml
doc-analysis-api:
  environment:
    - HTTPS_PROXY=socks5://172.17.0.1:10808
    - HTTP_PROXY=socks5://172.17.0.1:10808
    - NO_PROXY=localhost,127.0.0.1,doc-analysis-ui
```

**–î–ª—è UI-—Å–µ—Ä–≤–∏—Å–∞ (–±–µ–∑ –ø—Ä–æ–∫—Å–∏):**
```yaml
doc-analysis-ui:
  environment:
    - API_SERVICE_URL=http://doc-analysis-api:8000
    # –ù–ï–¢ –ü–†–û–ö–°–ò!
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ API-—Å–µ—Ä–≤–∏—Å–∞

```bash
cd api-service
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

# –°–æ–∑–¥–∞–π—Ç–µ .env —Å GEMINI_API_KEY
python analysis_api.py
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ UI-—Å–µ—Ä–≤–∏—Å–∞

```bash
cd ui-service
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# –£–∫–∞–∂–∏—Ç–µ URL API
export API_SERVICE_URL=http://localhost:8000
python gradio_ui.py
```

## üìä API Endpoints

### `GET /`
Health check API-—Å–µ—Ä–≤–∏—Å–∞

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "service": "Document Analysis API",
  "model": "gemini-1.5-flash"
}
```

### `POST /analyze`
–ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "stage": "–§–≠",
  "req_type": "–¢–ó",
  "tz_document": {
    "filename": "tz_project.docx",
    "content_summary": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¢–ó..."
  },
  "doc_document": {
    "filename": "documentation_fe.pdf",
    "content_summary": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏..."
  },
  "tu_document": null
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "stage": "–§–≠",
  "req_type": "–¢–ó",
  "requirements": [
    {
      "number": 1,
      "requirement": "–¢–µ–∫—Å—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è",
      "status": "–ò—Å–ø–æ–ª–Ω–µ–Ω–æ",
      "confidence": 95,
      "solution_description": "–û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è",
      "reference": "–î–æ–∫—É–º–µ–Ω—Ç, —Å—Ç—Ä. 12",
      "discrepancies": "",
      "recommendations": ""
    }
  ],
  "summary": "–û–±—â–∞—è —Å–≤–æ–¥–∫–∞ –∞–Ω–∞–ª–∏–∑–∞"
}
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### –ü—Ä–æ–±–ª–µ–º–∞: API-—Å–µ—Ä–≤–∏—Å –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs doc-analysis-api

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
docker-compose restart doc-analysis-api
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "Connection refused" –≤ UI

**–ü—Ä–∏—á–∏–Ω–∞:** UI –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ API

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∑–∞–ø—É—â–µ–Ω
curl http://localhost:8000/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ UI
docker-compose exec doc-analysis-ui env | grep API_SERVICE_URL
```

### –ü—Ä–æ–±–ª–µ–º–∞: Gemini API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ–∫—Å–∏
curl --socks5 172.17.0.1:10808 https://generativelanguage.googleapis.com/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –≤ API
docker-compose exec doc-analysis-api env | grep PROXY
```

### –ü—Ä–æ–±–ª–µ–º–∞: "GEMINI_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env
cp api-service/.env.example api-service/.env

# –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á
echo "GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á" >> api-service/.env

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose restart doc-analysis-api
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ê–Ω–∞–ª–∏–∑ –§–≠ —Å –±–∞–∑–æ–≤—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏

```
–§–∞–π–ª—ã:
- –¢–ó: tz_project.docx
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: documentation_fe.pdf

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- –°—Ç–∞–¥–∏—è: –§–≠
- –¢–∏–ø: –¢–£_–§–≠ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ)

–†–µ–∑—É–ª—å—Ç–∞—Ç: –¢–∞–±–ª–∏—Ü–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º —á–µ—Ä–µ–∑ Gemini API
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ –†–î —Å –≤–Ω–µ—à–Ω–∏–º–∏ –¢–£

```
–§–∞–π–ª—ã:
- –¢–ó: tz_rd.docx
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: docs_project.pdf
- –¢–£: requirements_tu.docx

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- –°—Ç–∞–¥–∏—è: –†–î
- –¢–∏–ø: –¢–£_–†–î

–†–µ–∑—É–ª—å—Ç–∞—Ç: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å —É—á–µ—Ç–æ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¢–£
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `.env` (–Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è –≤ Git)
- ‚úÖ –§–∞–π–ª `.env` –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è read-only
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ API
- ‚úÖ –ü—Ä–æ–∫—Å–∏ –∏–∑–æ–ª–∏—Ä—É–µ—Ç API-—Å–µ—Ä–≤–∏—Å –æ—Ç –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å–µ—Ç–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- ‚úÖ Healthchecks –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ API

```yaml
doc-analysis-api:
  deploy:
    replicas: 3
```

### Load Balancer (nginx)

```nginx
upstream api_backend {
    server doc-analysis-api-1:8000;
    server doc-analysis-api-2:8000;
    server doc-analysis-api-3:8000;
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç API –Ω–∞–ø—Ä—è–º—É—é

```bash
curl -X POST http://localhost:8000/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "stage": "–§–≠",
    "req_type": "–¢–ó",
    "tz_document": {
      "filename": "test_tz.docx",
      "content_summary": "–¢–µ—Å—Ç–æ–≤–æ–µ –¢–ó"
    },
    "doc_document": {
      "filename": "test_doc.pdf",
      "content_summary": "–¢–µ—Å—Ç–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"
    }
  }'
```

### –¢–µ—Å—Ç –ø—Ä–æ–∫—Å–∏

```bash
# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ API
docker-compose exec doc-analysis-api python -c "
import os
import google.generativeai as genai
genai.configure(api_key=os.getenv('GEMINI_API_KEY'))
model = genai.GenerativeModel('gemini-1.5-flash')
response = model.generate_content('–ü—Ä–∏–≤–µ—Ç!')
print(response.text)
"
```

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### API-—Å–µ—Ä–≤–∏—Å (`api-service/requirements.txt`)
- `fastapi` - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `uvicorn` - ASGI —Å–µ—Ä–≤–µ—Ä
- `google-generativeai` - Google Gemini API
- `pydantic` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- `httpx[socks]` - HTTP –∫–ª–∏–µ–Ω—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SOCKS

### UI-—Å–µ—Ä–≤–∏—Å (`ui-service/requirements.txt`)
- `gradio` - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `requests` - HTTP –∫–ª–∏–µ–Ω—Ç
- `python-dotenv` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## ü§ù –í–∫–ª–∞–¥ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É —Ñ–∏—á–∏ (`git checkout -b feature/amazing-feature`)
3. –°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç (`git commit -m 'Add amazing feature'`)
4. –ó–∞–ø—É—à—å—Ç–µ (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

**–í–µ—Ä—Å–∏—è:** 2.0.0 (–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
**–î–∞—Ç–∞:** 2025-10-06
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Google Gemini API (–∞–Ω–∞–ª–∏–∑)
- FastAPI (API backend)
- Gradio (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- Docker Compose (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è)
- SOCKS5 Proxy (VPN)
