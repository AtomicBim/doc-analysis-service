# –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Frontend –∫–æ–¥–∞

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º—ã –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:

#### App.tsx
- ‚ùå 11 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π useState
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (setTimeout)
- ‚ùå –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ (3000, 5000, 900000)
- ‚ùå –ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ empty-state –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å localStorage

#### Header.tsx
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (2 –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –±–ª–æ–∫–∞)
- ‚ùå –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ (2000, 900000, 2400000)
- ‚ùå –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è handleFileChange
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –∑–∞–ø—Ä–æ—Å–∞–º (setLoading, setError)

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. **–°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç** (`constants/index.ts`)

```typescript
- API_URL
- TIMEOUTS (REQUIREMENTS_EXTRACTION, PROJECT_ANALYSIS, STATUS_POLLING, NOTIFICATION_SHORT/LONG)
- STORAGE_KEYS
- MESSAGES (ERROR, SUCCESS, CONFIRM)
- STAGE_ICONS
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (as const)
- ‚úÖ –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –ù–µ—Ç –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª –≤ –∫–æ–¥–µ

---

### 2. **Custom Hook: useLocalStorage** (`hooks/useLocalStorage.ts`)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏
- ‚úÖ –ö–æ–ª–±—ç–∫–∏ onRestore –∏ onError
- ‚úÖ Generic —Ç–∏–ø–∏–∑–∞—Ü–∏—è

**–ö–æ–¥ –¥–æ:**
```typescript
// 60+ —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å localStorage
useEffect(() => {
  const savedData = localStorage.getItem(STORAGE_KEY);
  if (savedData) {
    const parsed = JSON.parse(savedData);
    // –†—É—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è...
  }
}, []);
```

**–ö–æ–¥ –ø–æ—Å–ª–µ:**
```typescript
const { storedValue, setStoredValue, clearStorage } = useLocalStorage({
  key: STORAGE_KEYS.APP_DATA,
  initialValue: initialAppState,
  onRestore: (data) => { /* –æ–±—Ä–∞–±–æ—Ç–∫–∞ */ }
});
```

---

### 3. **Custom Hook: useNotification** (`hooks/useNotification.ts`)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ timeout
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ —Ç–∞–π–º–µ—Ä–æ–≤ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

**–ö–æ–¥ –¥–æ:**
```typescript
setNotification(message);
setTimeout(() => setNotification(null), 5000); // –î—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤–µ–∑–¥–µ
```

**–ö–æ–¥ –ø–æ—Å–ª–µ:**
```typescript
const { showNotification, hideNotification } = useNotification();
showNotification(message, TIMEOUTS.NOTIFICATION_LONG);
```

---

### 4. **–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫** (`utils/errorFormatter.ts`)

**–ö–æ–¥ –¥–æ:**
```typescript
// –î—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ handleExtractRequirements –∏ handleAnalyzeProject
let errorMessage = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞...';
if (axios.isAxiosError(err) && err.response) {
  errorMessage = `–û—à–∏–±–∫–∞ API: ${err.response.status}...`;
} else if (err.message) {
  errorMessage = err.message;
}
```

**–ö–æ–¥ –ø–æ—Å–ª–µ:**
```typescript
setError(formatApiError(err, MESSAGES.ERROR.REQUIREMENTS_EXTRACTION));
```

---

### 5. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç EmptyState** (`components/EmptyState.tsx`)

**–ö–æ–¥ –¥–æ:**
```jsx
// –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è 3 —Ä–∞–∑–∞ –≤ App.tsx
<div className="empty-state">
  <div className="empty-icon">üìã</div>
  <p className="empty-text">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¢–ó...</p>
  <p className="empty-hint">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –±—É–¥—É—Ç...</p>
</div>
```

**–ö–æ–¥ –ø–æ—Å–ª–µ:**
```jsx
<EmptyState
  icon="üìã"
  text="–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¢–ó –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã"
  hint="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –±—É–¥—É—Ç –∏–∑–≤–ª–µ—á–µ–Ω—ã..."
/>
```

---

### 6. **–£–ª—É—á—à–µ–Ω–∏—è –≤ App.tsx**

#### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
- **–î–æ:** 11 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö useState
- **–ü–æ—Å–ª–µ:** 1 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å AppState + useLocalStorage

```typescript
interface AppState {
  currentStep: 1 | 2;
  confirmedRequirements: EditableRequirement[] | null;
  requirements: Requirement[];
  summary: string;
  sheetToPdfMapping: Record<string, number>;
  analysisCompleted: boolean;
}
```

#### –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞:
- **–î–æ:** 20 —Å—Ç—Ä–æ–∫ —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ª–æ–≥–∏–∫–∏
- **–ü–æ—Å–ª–µ:** 10 —Å—Ç—Ä–æ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º clearStorage()

---

### 7. **–£–ª—É—á—à–µ–Ω–∏—è –≤ Header.tsx**

#### –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `prepareForRequest()` –≤–º–µ—Å—Ç–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- ‚úÖ `formatApiError()` –≤–º–µ—Å—Ç–æ 2 –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –±–ª–æ–∫–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤–º–µ—Å—Ç–æ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è `handleFileChange`

#### –§—É–Ω–∫—Ü–∏–∏ —Å—Ç–∞–ª–∏ –∫–æ—Ä–æ—á–µ:
- **handleExtractRequirements:** 35 —Å—Ç—Ä–æ–∫ ‚Üí 14 —Å—Ç—Ä–æ–∫
- **handleAnalyzeProject:** 38 —Å—Ç—Ä–æ–∫ ‚Üí 15 —Å—Ç—Ä–æ–∫

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π:

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| **–°—Ç—Ä–æ–∫ –≤ App.tsx** | 292 | 240 | -18% |
| **–°—Ç—Ä–æ–∫ –≤ Header.tsx** | 349 | 314 | -10% |
| **useState –≤ App** | 11 | 5 | -55% |
| **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** | –í—ã—Å–æ–∫–æ–µ | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ | ‚úÖ |
| **–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞** | 8 | 0 | -100% |
| **Custom hooks** | 0 | 2 | ‚úÖ |
| **–£—Ç–∏–ª–∏—Ç—ã** | 0 | 1 | ‚úÖ |

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

### –ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞:
- ‚úÖ –ù–µ—Ç –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏
- ‚úÖ –û–¥–Ω–æ–∑–Ω–∞—á–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ö—É–∫–∏

### –°–≤—è–∑–Ω–æ—Å—Ç—å:
- ‚úÖ –õ–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (AppState)
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é
- ‚úÖ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:
- ‚úÖ –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã (–æ–¥–∏–Ω —Ñ–∞–π–ª)
- ‚úÖ –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è (–æ–¥–∏–Ω —Ñ–∞–π–ª)
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É

### –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (as const)
- ‚úÖ Generic —Ö—É–∫–∏ —Å —Ç–∏–ø–∞–º–∏
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π

---

## üöÄ –ë–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:

- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ù–µ—Ç linter –æ—à–∏–±–æ–∫
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω–æ

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:

```
ui-react-service/src/
‚îú‚îÄ‚îÄ constants/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts            ‚Üê –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useLocalStorage.ts  ‚Üê –†–∞–±–æ—Ç–∞ —Å localStorage
‚îÇ   ‚îî‚îÄ‚îÄ useNotification.ts  ‚Üê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ errorFormatter.ts   ‚Üê –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ API
‚îÇ   ‚îî‚îÄ‚îÄ pageReferences.ts   ‚Üê (—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ EmptyState.tsx      ‚Üê –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx          ‚Üê –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ App.tsx                 ‚Üê –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
```

---

## üí° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

1. **–°–æ–∑–¥–∞—Ç—å custom hook useApi** –¥–ª—è API –≤—ã–∑–æ–≤–æ–≤
2. **–í—ã–Ω–µ—Å—Ç–∏ —Ç–∏–ø—ã** –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (types/)
3. **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π** (services/api.ts)
4. **–î–æ–±–∞–≤–∏—Ç—å error boundary** –¥–ª—è –æ—Ç–ª–æ–≤–∞ –æ—à–∏–±–æ–∫ React
5. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è** —Å useMemo/useCallback –≥–¥–µ –Ω—É–∂–Ω–æ

---

–î–∞—Ç–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞: 2025-10-13

